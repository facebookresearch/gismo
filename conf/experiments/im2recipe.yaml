# @package _group_

im2recipe:
  comment: 'default configuration for im2recipe'
  image_encoder: resnet50_encoder
  ingr_predictor: ingr_predictor_ff_with_card_pred
  pretrained_im2ingr:
    freeze: False 
    load_pretrained_from: None
  recipe_gen: recipe_gen_tf
  with_substitutions: False
  optimization:
    seed: 1235
    lr: 0.001
    scale_lr_pretrained: 0.01
    lr_decay_rate: 0.99
    lr_decay_every: 1
    weight_decay: 0.0
    max_epochs: 400
    patience: 20
    loss_weights:
      label_loss: 0.0
      cardinality_loss: 0.0
      eos_loss: 0.0
      recipe_loss: 1.0
  ingr_teachforce:
    train: True
    val: True
    test: False

im2recipe_invcooking1.0:
  comment: 'inverse cooking 1.0 model'
  parent: im2recipe
  pretrained_im2ingr:
    freeze: True 
    load_pretrained_from: /checkpoint/adrianars/inversecooking2.0/im2ingr-im2ingr_resnet50_ff_bce_cat/best.ckpt

im2recipe_invcooking1.0_concat_gelu:
  comment: 'inverse cooking 1.0 model'
  parent: im2recipe
  recipe_gen: recipe_gen_tf_gelu
  pretrained_im2ingr:
    freeze: True 
    load_pretrained_from: /checkpoint/adrianars/inversecooking2.0/im2ingr-im2ingr_resnet50_ff_bce_cat/best.ckpt

im2recipe_vit:
  comment: 'evaluation of the performance of vision transformers'
  parent: im2recipe
  image_encoder: vit_small_encoder

search_example_im2recipe:
  comment: 'example of hyper-parameter search for im2recipe'
  parent: im2recipe
  optimization:
    seed: SEARCH[11,12]
